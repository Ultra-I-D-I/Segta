/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package segta.formularios;

import java.awt.event.KeyEvent;
import java.awt.event.WindowEvent;
import static java.lang.Float.parseFloat;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;
import javax.swing.JOptionPane;
import segta.clases.Proveedor;
import segta.clases.Tambor;
import segta.controladores.TamborJpaController;

/**
 *
 * @author MODERNIZACION3
 */
public class JDialogeditarTambor extends javax.swing.JDialog {

    /**
     * Creates new form JDialogeditarTambor
     */
    String senasa;
    String estadoTambor;
    EntityManagerFactory emf = Persistence.createEntityManagerFactory("SegTAPU");
    EntityManager em = emf.createEntityManager();
    TamborJpaController controladorT = new TamborJpaController(emf);

    Tambor tamborSel;

    public JDialogeditarTambor(javax.swing.JDialog parent, boolean modal, Tambor t) {
        super(parent, modal);
        tamborSel = t;
        initComponents();
        this.jBCargarProveedor.setVisible(false);
        /*
        jCBProveedor.setRenderer(new DefaultListCellRenderer() {
            @Override
            public Component getListCellRendererComponent(JList<?> list, Object value, int index, boolean isSelected, boolean cellHasFocus) {
                if (value instanceof Proveedor) {
                    Proveedor tc = (Proveedor) value;
                    return super.getListCellRendererComponent(list, tc.getRazonSocial(), index, isSelected, cellHasFocus); //To change body of generated methods, choose Tools | Templates.

                }
                return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus); //To change body of generated methods, choose Tools | Templates.
            }

        });
         */
        this.setLocationRelativeTo(null);

        estadoTambor = tamborSel.getEstadoTambor();
        if (null != estadoTambor) {
            switch (estadoTambor) {
                case "nuevo":
                    jRBNuevo.setSelected(true);
                    break;
                case "reacondicionado":
                    jRReacondicionado.setSelected(true);
                    break;
                case "golpeado":
                    jRGolpeado.setSelected(true);
                    break;
                case "cambio":
                    jRCambio.setSelected(true);
                    break;
                default:
                    break;
            }
        }
        jTFIdentificador.setText(tamborSel.getIdentificador());
        jTFNumero.setText(Integer.toString(tamborSel.getNumero()));
        jTFSenasa.setText(tamborSel.getSenasa());
        jTFBruto.setText(tamborSel.getBruto() + "");
        jTFTara.setText(tamborSel.getTara() + "");
        jLNeto.setText(tamborSel.getNeto() + "");
        this.jCBProveedor.setSelectedItem(tamborSel.getIdProveedor());
        this.jComboBoxApicultor.setSelectedItem(tamborSel.getAcopiador());
        this.jTAObservaciones.setText(tamborSel.getObservaciones());
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        bindingGroup = new org.jdesktop.beansbinding.BindingGroup();

        SegTAPUEntityManager = java.beans.Beans.isDesignTime() ? null : javax.persistence.Persistence.createEntityManagerFactory("SegTAPU").createEntityManager();
        proveedorQuery = java.beans.Beans.isDesignTime() ? null : SegTAPUEntityManager.createQuery("SELECT p FROM Proveedor p WHERE p.baja = 0 AND p.razonSocial != '' ORDER BY p.razonSocial");
        proveedorList = java.beans.Beans.isDesignTime() ? java.util.Collections.emptyList() : proveedorQuery.getResultList();
        proveedorQuery1 = java.beans.Beans.isDesignTime() ? null : SegTAPUEntityManager.createQuery("SELECT p FROM Proveedor p WHERE p.acopiador = 1 AND p.baja = 0 ORDER BY p.razonSocial");
        proveedorList1 = java.beans.Beans.isDesignTime() ? java.util.Collections.emptyList() : proveedorQuery1.getResultList();
        jBAceptar = new javax.swing.JButton();
        jBCancelar = new javax.swing.JButton();
        jPanel1 = new javax.swing.JPanel();
        jTFNumero = new javax.swing.JTextField();
        jTFSenasa = new javax.swing.JTextField();
        jTFTara = new javax.swing.JTextField();
        jCBProveedor = new javax.swing.JComboBox<>();
        jLNeto = new javax.swing.JTextField();
        jRBNuevo = new javax.swing.JRadioButton();
        jRReacondicionado = new javax.swing.JRadioButton();
        jRGolpeado = new javax.swing.JRadioButton();
        jLabel7 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jCheckBoxSenasa = new javax.swing.JCheckBox();
        jLabel11 = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTAObservaciones = new javax.swing.JTextArea();
        jTFBruto = new javax.swing.JTextField();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jRCambio = new javax.swing.JRadioButton();
        jTFRemito = new javax.swing.JTextField();
        jLabel15 = new javax.swing.JLabel();
        jBCargarProveedor = new javax.swing.JButton();
        jTFIdentificador = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jComboBoxApicultor = new javax.swing.JComboBox<>();

        Proveedor p = new Proveedor();
        p.setRazonSocial("");
        proveedorList.add(0,p);

        Proveedor a = new Proveedor();
        a.setRazonSocial("");
        proveedorList1.add(0,a);

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("EDITAR TAMBOR");
        setPreferredSize(new java.awt.Dimension(600, 650));
        setResizable(false);

        jBAceptar.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jBAceptar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/segta/imagenes/aceptar.png"))); // NOI18N
        jBAceptar.setText("ACEPTAR");
        jBAceptar.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jBAceptar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBAceptarActionPerformed(evt);
            }
        });
        jBAceptar.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jBAceptarKeyPressed(evt);
            }
        });

        jBCancelar.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jBCancelar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/segta/imagenes/cancerlar.png"))); // NOI18N
        jBCancelar.setText("CANCELAR");
        jBCancelar.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED));
        jBCancelar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBCancelarActionPerformed(evt);
            }
        });

        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "DATOS DEL TAMBOR", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 18))); // NOI18N

        jTFNumero.setEditable(false);
        jTFNumero.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N

        jTFSenasa.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jTFSenasa.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTFSenasaFocusLost(evt);
            }
        });
        jTFSenasa.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTFSenasaKeyPressed(evt);
            }
        });

        jTFTara.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jTFTara.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTFTaraFocusLost(evt);
            }
        });
        jTFTara.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTFTaraKeyPressed(evt);
            }
        });

        jCBProveedor.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        org.jdesktop.swingbinding.JComboBoxBinding jComboBoxBinding = org.jdesktop.swingbinding.SwingBindings.createJComboBoxBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, proveedorList, jCBProveedor);
        bindingGroup.addBinding(jComboBoxBinding);

        jCBProveedor.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jCBProveedorItemStateChanged(evt);
            }
        });
        jCBProveedor.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jCBProveedorKeyPressed(evt);
            }
        });

        jLNeto.setEditable(false);
        jLNeto.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N

        jRBNuevo.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jRBNuevo.setText("NUEVO");

        jRReacondicionado.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jRReacondicionado.setText("REACONDICIONADO");

        jRGolpeado.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jRGolpeado.setText("GOLPEADO");

        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel7.setText("APICULTOR");

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel2.setText("NÚMERO");

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel3.setText("SENASA");

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel4.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel4.setText("BRUTO");

        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel6.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel6.setText("TARA");

        jCheckBoxSenasa.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jCheckBoxSenasa.setSelected(true);

        jLabel11.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel11.setText("OBSERV.");

        jTAObservaciones.setColumns(20);
        jTAObservaciones.setRows(5);
        jScrollPane2.setViewportView(jTAObservaciones);

        jTFBruto.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jTFBruto.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTFBrutoFocusLost(evt);
            }
        });
        jTFBruto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTFBrutoActionPerformed(evt);
            }
        });
        jTFBruto.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTFBrutoKeyPressed(evt);
            }
        });

        jLabel12.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel12.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel12.setText("SIN ETIQUETA");

        jLabel13.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel13.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel13.setText("NETO");

        jRCambio.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jRCambio.setText("CAMBIO");

        jTFRemito.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jTFRemito.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTFRemitoKeyPressed(evt);
            }
        });

        jLabel15.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel15.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel15.setText("REMITO");

        jBCargarProveedor.setIcon(new javax.swing.ImageIcon(getClass().getResource("/segta/imagenes/add2.png"))); // NOI18N
        jBCargarProveedor.setEnabled(false);
        jBCargarProveedor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBCargarProveedorActionPerformed(evt);
            }
        });

        jTFIdentificador.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jTFIdentificadorKeyPressed(evt);
            }
        });

        jLabel10.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel10.setText("IDENTIFICADOR");

        jLabel17.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel17.setText("ACOPIADOR");

        jComboBoxApicultor.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N

        jComboBoxBinding = org.jdesktop.swingbinding.SwingBindings.createJComboBoxBinding(org.jdesktop.beansbinding.AutoBinding.UpdateStrategy.READ_WRITE, proveedorList1, jComboBoxApicultor);
        bindingGroup.addBinding(jComboBoxBinding);

        jComboBoxApicultor.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                jComboBoxApicultorKeyPressed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jLabel11)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jScrollPane2)
                        .addGap(26, 26, 26))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(26, 26, 26)
                        .addComponent(jLabel6)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTFTara, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLabel4)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTFBruto, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(50, 50, 50)
                        .addComponent(jLabel13)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLNeto, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jRBNuevo)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jRReacondicionado)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jRGolpeado)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jRCambio))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 152, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(jTFSenasa, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(jCheckBoxSenasa)
                                .addGap(0, 0, 0)
                                .addComponent(jLabel12, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGap(40, 40, 40)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel7, javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jLabel17, javax.swing.GroupLayout.Alignment.TRAILING))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(jCBProveedor, 0, 295, Short.MAX_VALUE)
                                    .addComponent(jComboBoxApicultor, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addGap(0, 0, Short.MAX_VALUE)))))
                .addContainerGap())
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(41, 41, 41)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jBCargarProveedor, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(jLabel15, javax.swing.GroupLayout.PREFERRED_SIZE, 111, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(jTFRemito, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(47, 47, 47))))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel10)
                            .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 129, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jTFIdentificador, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jTFNumero, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jComboBoxApicultor, javax.swing.GroupLayout.PREFERRED_SIZE, 44, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel17, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jCBProveedor, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(14, 14, 14)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jCheckBoxSenasa, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel12, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jTFSenasa, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 47, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jTFIdentificador, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jBCargarProveedor, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jTFNumero, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel15, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jTFRemito, javax.swing.GroupLayout.DEFAULT_SIZE, 40, Short.MAX_VALUE))
                .addGap(33, 33, 33)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTFTara, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 45, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTFBruto, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLNeto, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jRBNuevo)
                    .addComponent(jRReacondicionado)
                    .addComponent(jRCambio)
                    .addComponent(jRGolpeado))
                .addGap(13, 13, 13)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel11, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 47, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap(267, Short.MAX_VALUE)
                .addComponent(jBAceptar, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(34, 34, 34)
                .addComponent(jBCancelar, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                    .addGap(5, 5, 5)
                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addContainerGap()))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap(552, Short.MAX_VALUE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jBAceptar, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jBCancelar, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(61, Short.MAX_VALUE)))
        );

        bindingGroup.bind();

        pack();
    }// </editor-fold>//GEN-END:initComponents
    public void validarIngreso() {
        int con = 0;

        if (!jCheckBoxSenasa.isSelected()) {

            senasa = jTFSenasa.getText();
        }

        if (jTFBruto.getText().isEmpty()) {
            JOptionPane.showMessageDialog(null, "Bruto incompleto");
            con++;
            jTFBruto.requestFocus();
        }

        if (jTFTara.getText().isEmpty()) {
            JOptionPane.showMessageDialog(null, "Tara incompleto");
            con++;
            jTFTara.requestFocus();
        }

    }
    private void jBAceptarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBAceptarActionPerformed
        validarIngreso();

        if (jRBNuevo.isSelected()) {
            estadoTambor = "nuevo";
        } else if (jRReacondicionado.isSelected()) {
            estadoTambor = "reacondicionado";
        } else if (jRGolpeado.isSelected()) {
            estadoTambor = "golpeado";
        } else if (jRCambio.isSelected()) {
            estadoTambor = "cambio";
        }

        Proveedor provSel = (Proveedor) jCBProveedor.getSelectedItem();
        Proveedor AcoSel = (Proveedor) jComboBoxApicultor.getSelectedItem();
        float neto = 0;

        if (provSel.getRazonSocial() != "") {
            tamborSel.setIdProveedor(provSel);
        }
        if (AcoSel.getRazonSocial() != "") {
            tamborSel.setAcopiador(AcoSel);
        }else{
            AcoSel.setIdProveedor(3000);
            tamborSel.setAcopiador(AcoSel);
        }
        tamborSel.setSenasa(jTFSenasa.getText());
        float bruto = Float.parseFloat(jTFBruto.getText());
        tamborSel.setBruto(bruto);
        float tara = Float.parseFloat(jTFTara.getText());
        tamborSel.setTara(tara);
        neto = bruto - tara;
        tamborSel.setNeto(neto);
        tamborSel.setEstadoTambor(estadoTambor);
        tamborSel.setObservaciones(jTAObservaciones.getText());
        tamborSel.setIdentificador(jTFIdentificador.getText());

        try {
            controladorT.edit(tamborSel);
            JOptionPane.showMessageDialog(null, "Tambor editado");
            this.processWindowEvent(new WindowEvent(this, WindowEvent.WINDOW_CLOSING));

        } catch (Exception ex) {
            Logger.getLogger(jDialogTambores.class
                    .getName()).log(Level.SEVERE, null, ex);
        }

    }//GEN-LAST:event_jBAceptarActionPerformed

    private void jBCancelarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBCancelarActionPerformed
        this.processWindowEvent(new WindowEvent(this, WindowEvent.WINDOW_CLOSING));
    }//GEN-LAST:event_jBCancelarActionPerformed

    private void jTFSenasaFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTFSenasaFocusLost
        if (jTFSenasa.getText().isEmpty()) {
            this.jCheckBoxSenasa.setSelected(true);
        } else {
            this.jCheckBoxSenasa.setSelected(false);
        }
    }//GEN-LAST:event_jTFSenasaFocusLost

    private void jTFTaraFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTFTaraFocusLost

    }//GEN-LAST:event_jTFTaraFocusLost

    private void jCBProveedorItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jCBProveedorItemStateChanged
        this.jTFRemito.setText("");
    }//GEN-LAST:event_jCBProveedorItemStateChanged
    
    private void jTFBrutoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTFBrutoFocusLost
        boolean val = validaBrutoTara();
    }//GEN-LAST:event_jTFBrutoFocusLost

    public boolean validaBrutoTara() {
        float bruto = 0;
        float tara = 0;
        boolean valida = true;

        if (valida) {
            try {
                tara = parseFloat(jTFTara.getText());
                if (tara > 99) {
                    valida = false;
                    JOptionPane.showMessageDialog(null, "Tara incorrecta");
                    jTFTara.requestFocus();
                }
            } catch (Exception ex) {
                valida = false;
                JOptionPane.showMessageDialog(null, "Ingrese sólo números");
                jTFTara.requestFocus();
            }
        }

        if (valida) {
            try {
                bruto = parseFloat(jTFBruto.getText());
                if (bruto > 999) {
                    valida = false;
                    JOptionPane.showMessageDialog(null, "Bruto incorrecto");
                    jTFBruto.requestFocus();
                }
            } catch (Exception ex) {
                valida = false;
                JOptionPane.showMessageDialog(null, "Ingrese sólo números");
                jTFBruto.requestFocus();
            }

        }

        if (valida) {
            float neto = bruto - tara;
            if (neto < 0) {
                valida = false;
                JOptionPane.showMessageDialog(null, "El neto no puede ser negativo");
            } else {
                jLNeto.setText(neto + "");

            }
        }

        return valida;
    }
    private void jTFBrutoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTFBrutoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTFBrutoActionPerformed

    private void jBCargarProveedorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBCargarProveedorActionPerformed
        jDialogProveedor dialog = new jDialogProveedor(new javax.swing.JFrame(), true);
        dialog.setVisible(true);
        SegTAPUEntityManager.clear();
        this.proveedorList.clear();
        this.proveedorList.addAll(proveedorQuery.getResultList());

    }//GEN-LAST:event_jBCargarProveedorActionPerformed

    // FUNCIONES PARA PASAR DE CAMPO EN CAMPO CON ENTER 
    
    private void jComboBoxApicultorKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jComboBoxApicultorKeyPressed
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            this.jCBProveedor.requestFocus();
        }
    }//GEN-LAST:event_jComboBoxApicultorKeyPressed

    private void jCBProveedorKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jCBProveedorKeyPressed
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            this.jTFSenasa.requestFocus();
        }
    }//GEN-LAST:event_jCBProveedorKeyPressed

    private void jTFIdentificadorKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTFIdentificadorKeyPressed
         if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            this.jTFRemito.requestFocus();
        }
    }//GEN-LAST:event_jTFIdentificadorKeyPressed

    private void jTFRemitoKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTFRemitoKeyPressed
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            this.jTFTara.requestFocus();
        }
    }//GEN-LAST:event_jTFRemitoKeyPressed

    private void jTFSenasaKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTFSenasaKeyPressed
      if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            this.jTFIdentificador.requestFocus();
        }
    }//GEN-LAST:event_jTFSenasaKeyPressed

    private void jTFTaraKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTFTaraKeyPressed
        if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            this.jTFBruto.requestFocus();
        }
    }//GEN-LAST:event_jTFTaraKeyPressed

    private void jTFBrutoKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTFBrutoKeyPressed
         if (evt.getKeyCode() == KeyEvent.VK_ENTER) {
            this.jBAceptar.requestFocus();
        }
    }//GEN-LAST:event_jTFBrutoKeyPressed

    private void jBAceptarKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jBAceptarKeyPressed
       validarIngreso();

        if (jRBNuevo.isSelected()) {
            estadoTambor = "nuevo";
        } else if (jRReacondicionado.isSelected()) {
            estadoTambor = "reacondicionado";
        } else if (jRGolpeado.isSelected()) {
            estadoTambor = "golpeado";
        } else if (jRCambio.isSelected()) {
            estadoTambor = "cambio";
        }

        Proveedor provSel = (Proveedor) jCBProveedor.getSelectedItem();
        Proveedor AcoSel = (Proveedor) jComboBoxApicultor.getSelectedItem();
        float neto = 0;

        if (provSel.getRazonSocial() != "") {
            tamborSel.setIdProveedor(provSel);
        }
        if (AcoSel.getRazonSocial() != "") {
            tamborSel.setAcopiador(AcoSel);
        }
        tamborSel.setSenasa(jTFSenasa.getText());
        float bruto = Float.parseFloat(jTFBruto.getText());
        tamborSel.setBruto(bruto);
        float tara = Float.parseFloat(jTFTara.getText());
        tamborSel.setTara(tara);
        neto = bruto - tara;
        tamborSel.setNeto(neto);
        tamborSel.setEstadoTambor(estadoTambor);
        tamborSel.setObservaciones(jTAObservaciones.getText());
        tamborSel.setIdentificador(jTFIdentificador.getText());

        try {
            controladorT.edit(tamborSel);
            JOptionPane.showMessageDialog(null, "Tambor editado");
            this.processWindowEvent(new WindowEvent(this, WindowEvent.WINDOW_CLOSING));

        } catch (Exception ex) {
            Logger.getLogger(jDialogTambores.class
                    .getName()).log(Level.SEVERE, null, ex);
        }

    }//GEN-LAST:event_jBAceptarKeyPressed

    /**
     * @param args the command line arguments
     */
//    public static void main(String args[]) {
//        /* Set the Nimbus look and feel */
//        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
//        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
//         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
//         */
//        try {
//            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
//                if ("Nimbus".equals(info.getName())) {
//                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
//                    break;
//                }
//            }
//        } catch (ClassNotFoundException ex) {
//            java.util.logging.Logger.getLogger(JDialogeditarTambor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
//        } catch (InstantiationException ex) {
//            java.util.logging.Logger.getLogger(JDialogeditarTambor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
//        } catch (IllegalAccessException ex) {
//            java.util.logging.Logger.getLogger(JDialogeditarTambor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
//        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
//            java.util.logging.Logger.getLogger(JDialogeditarTambor.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
//        }
//        //</editor-fold>
//
//        /* Create and display the dialog */
//        java.awt.EventQueue.invokeLater(new Runnable() {
//            public void run() {
//                JDialogeditarTambor dialog = new JDialogeditarTambor(new javax.swing.JFrame(), true);
//                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
//                    @Override
//                    public void windowClosing(java.awt.event.WindowEvent e) {
//                        System.exit(0);
//                    }
//                });
//                dialog.setVisible(true);
//            }
//        });
//    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.persistence.EntityManager SegTAPUEntityManager;
    private javax.swing.JButton jBAceptar;
    private javax.swing.JButton jBCancelar;
    private javax.swing.JButton jBCargarProveedor;
    private javax.swing.JComboBox<String> jCBProveedor;
    private javax.swing.JCheckBox jCheckBoxSenasa;
    private javax.swing.JComboBox<String> jComboBoxApicultor;
    private javax.swing.JTextField jLNeto;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JRadioButton jRBNuevo;
    private javax.swing.JRadioButton jRCambio;
    private javax.swing.JRadioButton jRGolpeado;
    private javax.swing.JRadioButton jRReacondicionado;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTextArea jTAObservaciones;
    private javax.swing.JTextField jTFBruto;
    private javax.swing.JTextField jTFIdentificador;
    private javax.swing.JTextField jTFNumero;
    private javax.swing.JTextField jTFRemito;
    private javax.swing.JTextField jTFSenasa;
    public javax.swing.JTextField jTFTara;
    private java.util.List<segta.clases.Proveedor> proveedorList;
    private java.util.List<segta.clases.Proveedor> proveedorList1;
    private javax.persistence.Query proveedorQuery;
    private javax.persistence.Query proveedorQuery1;
    private org.jdesktop.beansbinding.BindingGroup bindingGroup;
    // End of variables declaration//GEN-END:variables
}
